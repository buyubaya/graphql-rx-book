{"version":3,"sources":["images/icon-cart.png","components/CustomLink.js","constants/ApiUrls.js","components/Book.js","constants/ActionTypes.js","components/Pagination.js","components/Loading.js","components/SearchBox.js","components/SortBox.js","components/FilterBox.js","redux/reducers/filterReducer.js","components/ClearFilter.js","components/CartTable.js","components/BookList.js","pages/HomePage.js","pages/BookDetailPage.js","pages/admin/AdminPage.js","pages/admin/AdminDashboardPage.js","components/admin/AdminBookList.js","components/admin/FormBuilder.js","components/admin/AdminBookForm.js","components/admin/Pagination.js","pages/admin/AdminBookPage.js","pages/admin/AdminLoginPage.js","pages/admin/AdminLogoutPage.js","pages/SamplePage.js","App.js","serviceWorker.js","redux/reducers/productReducer.js","redux/reducers/statusReducer.js","redux/reducers/cartReducer.js","redux/reducers/userReducer.js","redux/store.js","index.js"],"names":["module","exports","CustomLink","_ref","to","children","exact","react_default","a","createElement","Route","path","_ref2","match","className","Link","BASE_API_URL","BOOK_API_URL","concat","CATEGORY_API_URL","AUTHOR_API_URL","BRAND_API_URL","connect","state","isAlert","status","showAlert","cart","dispatch","payload","type","hideAlert","addToCart","item","cardImg","cartClicked","flying","error","message","setTimeout","id","list","i","len","length","isExist","_id","Object","objectSpread","qty","flyingImg","document","styles","width","offsetLeft","offsetTop","setAttribute","src","body","appendChild","iconCart","getElementById","transform","left","offsetWidth","top","offsetHeight","x","style","parentNode","removeChild","console","log","img","alt","ref","el","name","price","toLocaleString","onClick","href","Pagination","page","limit","count","onPageChange","maxPage","totalPage","Math","ceil","startPage","endPage","floor","pArr","push","key","map","isLoading","SearchBox","value","onChange","e","target","SortBox","FilterBox","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleFilter","bind","assertThisInitialized","_this$props","data","placeholder","React","Component","defaultFilter","sort","filterReducer","arguments","undefined","action","assign","isFiltered","filterParams","filter","clearFilter","CartTable","editQty","removeFromCart","handleClick","cart_table","contains","classList","remove","_this2","totalPrice","reduce","total","current","stopPropagation","colSpan","gql","_templateObject","CATEGORY_QUERY","_templateObject2","AUTHOR_QUERY","_templateObject3","BRAND_QUERY","_templateObject4","CustomQuery","react_apollo_browser_umd","loading","rest","objectWithoutProperties","BookList","context","icon_cart","bookData","setFilter","totalQty","toggle","require","components_CartTable","components_SearchBox","search","components_SortBox","BookList_CustomQuery","query","_ref3","components_FilterBox","filterName","category","_ref4","author","_ref5","brand","components_ClearFilter","components_Loading","components_Book","components_Pagination","contextTypes","PropTypes","object","func","BOOK_QUERY","HomePage_templateObject","HomePage","handlePageChange","setLoading","bookQuery","newProps","refetch","_this$props2","user","book","username","components_BookList","childContextTypes","compose","bindActionCreators","options","graphql","variables","BookDetailPage_templateObject","handleLoadMore","fetchMore","updateQuery","prevResult","fetchMoreResult","relatedBook","toConsumableArray","newBookId","params","bookId","_limit","_page","_count","setState","_this$state","Fragment","AdminPage","updateLoginUser","_getUser","sessionStorage","getItem","JSON","parse","Redirect","AdminDashboardPage","AdminBookList","handleEdit","handleRemove","handleAdd","window","confirm","_removeItemFromBookList","_this$context","bookList","index","array","number","editItem","FormBuilder","setFieldValue","values","component","formik_esm","fieldName","event","currentTarget","files","touched","errors","handleReset","handleChange","handleBlur","handleSubmit","formBuilderData","onSubmit","label","getFieldComponent","keys","k","_form","BookFormBuilder","withFormik","displayName","enableReinitialize","mapPropsToValues","description","validate","onReset","method","apiEndpoint","setSubmitting","validateForm","resetForm","_ref2$props","onSubmitSuccess","token","setError","formData","FormData","field","append","fetch","headers","Authorization","then","res","json","catch","err","validateOnChange","validateOnBlur","AdminBookForm","_handleSubmitSuccess","cPromise","aPromise","bPromise","Promise","all","_getChildCategory","parents","forEach","parent_id","includes","hideForm","_addItemToBookList","toPage","AdminBookPage","addItem","_toPage","fetchBookAPI","pair","join","_this3","_this$state2","_editItemFromBookList","p","_this4","_this$state3","_this$state3$filterPa","admin_AdminBookList","admin_AdminBookForm","admin_Pagination","LOGIN_MUTATION","AdminLoginPage_templateObject","LoginFormBuilder","password","login","toString","AdminLoginPage","setItem","stringify","history","AdminLogoutPage","logout","removeItem","SamplePage_templateObject","SamplePage_templateObject2","COMMENTS_SUBSCRIPTION","SamplePage_templateObject3","TestSub","subscription","SamplePage","file","slicedToArray","validity","loginError","SamplePage_TestSub","App","BrowserRouter","basename","process","Switch","BookDetailPage","admin_AdminPage","Boolean","location","hostname","productReducer","statusReducer","cartReducer","newState","newList","userReducer","reducers","combineReducers","product","store","createStore","fragmentMatcher","IntrospectionFragmentMatcher","introspectionQueryResultData","client","ApolloClient","cache","InMemoryCache","restore","link","createUploadLink","uri","ReactDOM","render","es","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c7c0947b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Route, Link } from 'react-router-dom';\r\n\r\n\r\nexport default function CustomLink({ to, children, exact }) {\r\n    return (\r\n        <Route\r\n            path={to}\r\n            exact={exact}\r\n            children={({ match }) => (\r\n                <li className={match ? 'is-active' : ''}>\r\n                    <Link to={to}>{children}</Link>\r\n                </li>\r\n            )}\r\n        />\r\n    );\r\n}","// export const BASE_API_URL = 'http://localhost:3000';\r\nexport const BASE_API_URL = 'https://nodejs-book-api.herokuapp.com';\r\nexport const BOOK_API_URL = `${BASE_API_URL}/api/product`;\r\nexport const CATEGORY_API_URL = `${BASE_API_URL}/api/category`;\r\nexport const AUTHOR_API_URL = `${BASE_API_URL}/api/author`;\r\nexport const BRAND_API_URL = `${BASE_API_URL}/api/brand`;\r\n\r\n// ADMIN\r\nexport const ADMIN_API_URL = BASE_API_URL;\r\nexport const USER_API_URL = `${BASE_API_URL}/user`;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    SHOW_ALERT,\r\n\tHIDE_ALERT,\r\n\tADD_TO_CART\r\n} from '../constants/ActionTypes';\r\nimport { Link } from 'react-router-dom';\r\nimport { API_URL } from '../utils/ApiUtils';\r\n\r\n\r\nconst Book = ({item, isAlert, showAlert, hideAlert, cart, addToCart}) => {\r\n\tlet cardImg = null;\r\n\tlet cartClicked = false;\r\n\t\r\n\tconst isExist = id => {\r\n\t\tif(cart.list){\r\n\t\t\tfor(let i=0, len=cart.list.length; i<len; i++){\r\n\t\t\t\tif(cart.list[i].id === id){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst flying = (item) => {\r\n\t\tif(!cartClicked){\r\n\t\t\tif(isExist(item._id) === false){\r\n\t\t\t\taddToCart({...item, qty: 1});\r\n\r\n\t\t\t\tcartClicked = true;\r\n\r\n\t\t\t\tif(cardImg){\r\n\t\t\t\t\tlet flyingImg = document.createElement('IMG');\r\n\t\t\t\t\tlet styles = `\r\n\t\t\t\t\t\twidth: ${cardImg.width}px;\r\n\t\t\t\t\t\tposition: absolute;\t\t\t\r\n\t\t\t\t\t\tleft: ${cardImg.offsetLeft}px;\r\n\t\t\t\t\t\ttop: ${cardImg.offsetTop}px;\r\n\t\t\t\t\t\ttransition: 1s;\r\n\t\t\t\t\t`;\r\n\t\t\t\t\tflyingImg.setAttribute('src', cardImg.src);\r\n\t\t\t\t\tflyingImg.setAttribute('style', styles);\r\n\t\t\t\t\tdocument.body.appendChild(flyingImg);\r\n\t\r\n\t\t\t\t\tlet iconCart = document.getElementById('icon-cart');\r\n\t\t\t\t\tlet transform = {\r\n\t\t\t\t\t\twidth: 0,\r\n\t\t\t\t\t\tleft: iconCart ? (iconCart.offsetLeft + iconCart.offsetWidth / 2)+'px' : '0',\r\n\t\t\t\t\t\ttop: iconCart ? (iconCart.offsetTop + iconCart.offsetHeight / 2)+'px' : '0'\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tfor(let x in transform){\r\n\t\t\t\t\t\t\tflyingImg.style[x] = transform[x];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tflyingImg.parentNode.removeChild(flyingImg);\r\n\t\t\t\t\t\tcartClicked = false;\r\n\t\t\t\t\t}, 1000)  \r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log('Item already exists !');\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tshowAlert({error: true, message: 'CLICKED'});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thideAlert();\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn(        \r\n\t\t<div className=\"card-product mb40\">\r\n\t\t\t<div className=\"card-img\">\r\n\t\t\t\t<Link to={'/product/'+item._id}><img className=\"w100p\" src={item.img} alt=\"\" ref={el => cardImg = el} /></Link>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card-content pt10\">\r\n\t\t\t\t<p className=\"card-name text-center\">{item.name}</p>\r\n\t\t\t\t<p className=\"card-price text-center\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t(item.price * 1).toLocaleString('en-US')\r\n\t\t\t\t\t}\r\n\t\t\t\t</p>\r\n\t\t\t\t<a onClick={() => flying(item)} href=\"javascript:;\" className=\"btnAddToCart\">Buy</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\nexport default connect(\r\n\tstate => ({\r\n\t\tisAlert: state.status.showAlert,\r\n\t\tcart: state.cart\r\n\t}),\r\n\tdispatch => ({\r\n\t\tshowAlert: payload => dispatch({type: SHOW_ALERT, payload}),\r\n\t\thideAlert: () => dispatch({type: HIDE_ALERT}),\r\n\t\taddToCart: item => dispatch({type: ADD_TO_CART, payload: item})\r\n\t})\r\n)(Book);","export const FETCH_PRODUCT_REQUEST = 'FETCH_PRODUCT_REQUEST';\r\nexport const FETCH_PRODUCT_SUCCESS = 'FETCH_PRODUCT_SUCCESS';\r\nexport const FETCH_PRODUCT_ERROR = 'FETCH_PRODUCT_ERROR';\r\nexport const FETCH_PRODUCT_CANCEL = 'FETCH_PRODUCT_CANCEL';\r\n\r\n// FILTER\r\nexport const FILTER_REQUEST = 'FILTER_REQUEST';\r\nexport const IS_FILTERED = 'IS_FILTERED';\r\nexport const CLEAR_FILTER = 'CLEAR_FILTER';\r\nexport const SHOW_ALERT = 'SHOW_ALERT';\r\nexport const HIDE_ALERT = 'HIDE_ALERT';\r\nexport const IS_LOADING = 'IS_LOADING';\r\nexport const STOP_LOADING = 'STOP_LOADING';\r\n\r\n// CART\r\nexport const UPDATE_CART = 'UPDATE_CART';\r\nexport const ADD_TO_CART = 'ADD_TO_CART';\r\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\r\nexport const EDIT_CART_ITEM = 'EDIT_CART_ITEM';\r\nexport const DESTROY_CART = 'DESTROY_CART';\r\n\r\n// USER\r\nexport const FETCH_USER_SUCCESS = 'FETCH_USER_SUCCESS';","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    filterRequest\r\n} from '../redux/actions';\r\n\r\n\r\nconst Pagination = ({page, limit, count, onPageChange, maxPage}) => {\r\n\tlet totalPage = Math.ceil(count / limit);\r\n\tlet startPage = page - (Math.ceil(maxPage / 2) - 1);\r\n\tlet endPage = page + Math.floor(maxPage / 2);\r\n\tif(startPage < 1){\r\n\t\tstartPage = 1;\r\n\t\tendPage = startPage + (maxPage - 1);\r\n\t}\r\n\tif(endPage > totalPage){\r\n\t\tendPage = totalPage;\r\n\t\tstartPage = endPage - (maxPage - 1);\r\n\t}\r\n\tstartPage = startPage > 1 ? startPage : 1;\r\n\tendPage = endPage < totalPage ? endPage : totalPage;\r\n\r\n\tvar pArr = [];\r\n\tfor(var i=startPage; i<=endPage; i++){\r\n\t\tpArr.push(i);\r\n\t}\r\n\t\r\n\treturn(\r\n\t\ttotalPage > 1 \r\n\t\t?\r\n\t\t<ul className=\"pagination text-center mt20 mb40\">\r\n\t\t\t{\r\n\t\t\tstartPage > 1 &&\r\n\t\t\t[\r\n\t\t\t\t<li key={1}><a href=\"javascript:;\" onClick={() => onPageChange(1)}>&lt;</a></li>,\r\n\t\t\t\t<li key={'prevPageGroup'}><a href=\"javascript:;\" onClick={() => onPageChange(page - maxPage < 1 ? 1 : page - maxPage)}>...</a></li>\r\n\t\t\t]\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\tpArr.map((item) => {\r\n\t\t\t\treturn <li className={item == page ? 'is-active' : ''} key={item} onClick={() => onPageChange(item)}><a href=\"javascript:;\">{item}</a></li>})\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\tendPage < totalPage &&\r\n\t\t\t[\r\n\t\t\t\t<li key={'nextPageGroup'}><a href=\"javascript:;\" onClick={() => onPageChange(page + maxPage > totalPage ? totalPage : page + maxPage)}>...</a></li>,\r\n\t\t\t\t<li key={totalPage}><a href=\"javascript:;\" onClick={() => onPageChange(totalPage)}>&gt;</a></li>\r\n\t\t\t]\r\n\t\t\t}\r\n\t\t</ul>\r\n\t\t:\r\n\t\tnull\r\n\t)   \r\n};\r\n\r\n\r\n// export default connect(\r\n// \tnull,\r\n// \tdispatch => ({\r\n// \t\ttoPage: page => dispatch(filterRequest({ page }))\r\n// \t})\r\n// )(Pagination);\r\nexport default Pagination;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst Loading = ({ isLoading }) => (\r\n    isLoading\r\n    ?\r\n    <div className=\"text-center mt20 mb20\">\r\n        <div className='loading-fish'>\r\n            <span className='loading-fish-tail'></span>\r\n            <span className='loading-fish-body v3'></span>\r\n            <span className='loading-fish-body v2'></span>\r\n            <span className='loading-fish-body v1'></span>\r\n            <span className='loading-fish-head'></span>   \r\n        </div>\r\n    </div>\r\n    :\r\n    null\r\n);\r\n\r\n\r\nexport default connect((state) => {\r\n\treturn {isLoading: state.status.isLoading};\r\n})(Loading);","import React from 'react';\r\n\r\n\r\nconst SearchBox = ({value, onChange}) => (\r\n\t<input \r\n\t\ttype=\"text\" \r\n\t\tclassName=\"search-box\" \r\n\t\tvalue={value}\r\n\t\tonChange={e => onChange(e.target.value)}\r\n\t/>\r\n);\r\n\r\n\r\nexport default SearchBox;","import React from 'react';\r\n\r\n\r\nconst SortBox = ({value, onChange}) => (\r\n    <select \r\n        className=\"sort-box\"\r\n        value={value} \r\n        onChange={e => onChange(e.target.value)}\r\n    >\r\n        <option value={'latest'}>Latest</option>\r\n        <option value={'oldest'}>Oldest</option>\r\n        <option value={'a-z'}>A - Z</option>\r\n        <option value={'z-a'}>Z - A</option>\r\n        <option value={'price-asc'}>Price Ascending</option>\r\n        <option value={'price-desc'}>Price Descending</option>\r\n    </select>\r\n);\r\n\r\n\r\nexport default SortBox;","import React from 'react';\r\n// import { BASE_API_URL, API_URL, fetchData } from '../utils/ApiUtils';\r\nimport { BASE_API_URL } from '../constants/ApiUrls';\r\n\r\n\r\nclass FilterBox extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            list: []\r\n        };\r\n        this.handleFilter = this.handleFilter.bind(this);\r\n    }\r\n\r\n    // componentWillMount(){\r\n    //     if(this.props.filterName){\r\n    //         fetch(`${BASE_API_URL}/api/${this.props.filterName}`)\r\n    //         .then(res => res.json())\r\n    //         .then(data => {\r\n    //             this.setState({ list: data });\r\n    //         })\r\n    //         .catch(err => console.log('ERROR', err));\r\n    //     }\r\n    // }\r\n\r\n    handleFilter(e){\r\n        const { onChange } = this.props;\r\n        onChange && onChange(e.target.value);\r\n    }\r\n\r\n    render(){\r\n        const { data, placeholder, value } = this.props;\r\n        \r\n        return(\r\n            data && data.length > 0\r\n            ?\r\n            <select \r\n                className=\"filter-box\" \r\n                value={value} \r\n                onChange={this.handleFilter}\r\n            >\r\n                <option value={''} key={'empty'}>{placeholder || 'Select'}</option>\r\n                {\r\n                    data.map(item =>\r\n                        <option key={item._id} value={item._id}>\r\n                            {item.name}\r\n                        </option>\r\n                    )\r\n                }\r\n            </select>\r\n            :\r\n            <div>Loading...</div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default FilterBox;","import {\r\n    IS_FILTERED,\r\n    CLEAR_FILTER\r\n} from '../../constants/ActionTypes';\r\n\r\n\r\nexport const defaultFilter = {\r\n\tlimit: 5,\r\n\tpage: 1,\r\n\tsort: 'oldest'\r\n};\r\n\r\nconst filterReducer = (state={...defaultFilter}, action) => {\r\n\tswitch(action.type){\r\n\t\tcase IS_FILTERED:\r\n\t\t\treturn (action.payload) ? Object.assign({...state}, action.payload) : {...state};  \r\n\t\tcase CLEAR_FILTER:\r\n\t\t\treturn defaultFilter;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\nexport default filterReducer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    CLEAR_FILTER\r\n} from '../constants/ActionTypes';\r\nimport { defaultFilter } from '../redux/reducers/filterReducer';\r\n\r\n\r\nconst ClearFilter = ({ isFiltered, clearFilter, filterParams }) => {\r\n\t// let params = [];\r\n\t// for(let x in filterParams){\r\n\t// \tif(!['page', 'limit'].includes(x)){\r\n\t// \t\tparams.push(`${x}: ${filterParams[x]}`);\r\n\t// \t}\r\n\t// }\r\n\r\n\treturn(\r\n\t\tisFiltered\r\n\t\t?\r\n\t\t<div className='clear-filter-area'>\r\n\t\t\t<div>\r\n\t\t\t\t<span className=\"btnClearFilter\" onClick={clearFilter}>Clear Filter</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t:\r\n\t\tnull\r\n\t)\r\n};\r\n\r\n\r\nexport default connect(\r\n\tstate => ({\r\n\t\tisFiltered: state.status.isFiltered,\r\n\t\tfilterParams: state.filter\r\n\t}),\r\n\tdispatch => ({\r\n\t\tclearFilter: () => dispatch({type: CLEAR_FILTER})\r\n\t})\r\n)(ClearFilter);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { API_URL } from '../utils/ApiUtils';\r\nimport { REMOVE_FROM_CART, EDIT_CART_ITEM } from '../constants/ActionTypes';\r\n\r\n\r\nclass CartTable extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.editQty = this.editQty.bind(this);\r\n        this.removeFromCart = this.removeFromCart.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    // componentDidMount(){\r\n    //     window.addEventListener('click', this.handleClick);\r\n    // }\r\n\r\n    // componentWillUnMount(){\r\n    //     window.removeEventListener('click', this.handleClick);\r\n    // }\r\n\r\n    handleClick(e){\r\n        if(this.cart_table && !this.cart_table.contains(e.target)){\r\n            const iconCart = document.getElementById('icon-cart');\r\n            iconCart.classList.remove('is-active');\r\n        }\r\n    }\r\n\r\n    editQty(id, qty){\r\n        const { editQty } = this.props;\r\n        editQty && editQty(id, qty);\r\n    }\r\n\r\n    removeFromCart(id){\r\n        const { removeFromCart } = this.props;\r\n        removeFromCart && removeFromCart(id);\r\n    }\r\n\r\n    render(){\r\n        const { cart } = this.props;\r\n        const totalPrice = cart.list && cart.list.reduce((total, current) => total + current.qty * current.price, 0);\r\n        \r\n        return(\r\n            <div className='overlay cart-table-overlay' onClick={this.handleClick}>\r\n                <div className='cart-table' ref={el => this.cart_table = el} onClick={e => e.stopPropagation()}>\r\n                    {\r\n                        (cart && cart.list && cart.list.length > 0)\r\n                        ?\r\n                        <table>\r\n                            <thead>\r\n                                <tr className='tr-heading'>\r\n                                    <td className='td-img'>Image</td>\r\n                                    <td className='td-name'>Name</td>\r\n                                    <td className='td-qty'>Quantity</td>\r\n                                    <td className='td-price-unit'>Price / Unit</td>\r\n                                    <td className='td-price'>Price</td>\r\n                                    <td className='td-edit'>Edit</td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                cart.list.map(item =>\r\n                                        <tr key={item._id}>\r\n                                            <td className='td-img'><img className='w100p' src={item.img} alt={item.name} /></td>\r\n                                            <td className='td-name'>{item.name}</td>\r\n                                            <td className='td-qty'>\r\n                                                <div className='qty-group'>\r\n                                                    <span className='btn-edit-cart' onClick={() => this.editQty(item._id, item.qty + 1)}>+</span>\r\n                                                    <span className='btn-edit-cart'>{item.qty}</span>\r\n                                                    <span className='btn-edit-cart' onClick={() => this.editQty(item._id, item.qty - 1)}>-</span>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className='td-price-unit'>{item.price}</td>\r\n                                            <td className='td-price'>{item.price * item.qty}</td>\r\n                                            <td className='td-edit'><span className='btn-edit-cart' onClick={() => this.removeFromCart(item._id)}>X</span></td>\r\n                                        </tr>\r\n                                    )\r\n                                }\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr>\r\n                                    <td colSpan={3}></td>\r\n                                    <td className='td-total-price td-total-price-text'>Total</td>\r\n                                    <td className='td-total-price td-total-price-value'>{totalPrice}</td>\r\n                                    <td></td>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                        :\r\n                        <div className='p20'>No item in cart</div>\r\n                    }\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default connect(\r\n    state => ({\r\n        cart: state.cart\r\n    }),\r\n    dispatch => ({\r\n        editQty: (id, qty) => dispatch({type: EDIT_CART_ITEM, payload: { _id: id, qty }}),\r\n        removeFromCart: id => dispatch({type: REMOVE_FROM_CART, payload: { _id: id }})\r\n    })\r\n)(CartTable);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Book from './Book';\r\nimport Pagination from './Pagination';\r\nimport Loading from './Loading';\r\nimport SearchBox from './SearchBox';\r\nimport SortBox from './SortBox';\r\nimport FilterBox from './FilterBox';\r\nimport ClearFilter from './ClearFilter';\r\nimport CartTable from './CartTable';\r\n// APOLLO\r\nimport { compose, graphql, Query } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\n// QUERY AND MUTATION\r\nconst BOOK_QUERY = gql`\r\n\tquery book($id: ID, $page: Int, $limit: Int) {\r\n\t\tbook(id: $id, page: $page, limit: $limit) {\r\n\t\t\t... on BookListResponse {\r\n\t\t\t\tlist {\r\n\t\t\t\t\t_id\r\n\t\t\t\t\tname\r\n\t\t\t\t\tprice\r\n\t\t\t\t\timg\r\n\t\t\t\t\tcategory {\r\n\t\t\t\t\t\t_id\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcount\r\n\t\t\t}\r\n\r\n\t\t\t... on Book {\r\n\t\t\t\t_id\r\n\t\t\t\tname\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\nconst CATEGORY_QUERY = gql`\r\n\tquery category($id: ID) {\r\n\t\tcategory(id: $id) {\r\n\t\t\t_id\r\n\t\t\tname\r\n\t\t}\r\n\t}\r\n`;\r\nconst AUTHOR_QUERY = gql`\r\n\tquery author($id: ID) {\r\n\t\tauthor(id: $id) {\r\n\t\t\t_id\r\n\t\t\tname\r\n\t\t}\r\n\t}\r\n`;\r\nconst BRAND_QUERY = gql`\r\n\tquery brand($id: ID) {\r\n\t\tbrand(id: $id) {\r\n\t\t\t_id\r\n\t\t\tname\r\n\t\t}\r\n\t}\r\n`;\r\n// RENDERING\r\n// const renderQuery = Comp => props => ({ loading, error, data }) => {\r\n// \tif (loading) return 'Loading...';\r\n// \tif (error) return `Error! ${error.message}`;\r\n\r\n// \treturn <Comp {...props} data={data['category']} />;\r\n// };\r\n// const CustomQuery = Comp => props => {\r\n// \treturn(\r\n// \t\t<Query query={props.query}>\r\n// \t\t\t{({ loading, error, data }) => {\r\n// \t\t\t\tif (loading) return \"Loading...\";\r\n// \t\t\t\tif (error) return `Error! ${error.message}`;\r\n\r\n// \t\t\t\treturn (\r\n// \t\t\t\t\t<Comp {...props} />\r\n// \t\t\t\t);\r\n// \t\t\t}}\r\n// \t\t</Query>\r\n// \t);\r\n// };\r\nconst renderQuery = comp => ({ loading, error, data }) => {\r\n\tif (loading) return \"Loading...\";\r\n\tif (error) return `Error! ${error.message}`;\r\n\t\r\n\treturn React.cloneElement(comp, { data: data[comp.props.filterName] });\r\n};\r\nconst CustomQuery = (props) => {\r\n\t\r\n\treturn(\r\n\t\t<Query {...props}>\r\n\t\t\t{\r\n\t\t\t\t({ loading, error, ...rest }) => {\r\n\t\t\t\t\tif (loading) return \"Loading...\";\r\n\t\t\t\t\tif (error) return `Error! ${error.message}`;\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn props.children(rest);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t</Query>\r\n\t);\r\n};\r\n\r\n\r\nfunction BookList(props, context) {\r\n\tlet icon_cart;\r\n\tconst { bookData } = props;\r\n\tconst { filter, setFilter, cart } = context;\r\n\tconst totalQty = cart.list && cart.list.reduce((total, current) => total + current.qty, 0);\r\n\tconst list = bookData && bookData.list;\r\n\tconst count = bookData && bookData.count;\r\n\r\n\tfunction handleClickIconCart(e) {\r\n\t\te.stopPropagation();\r\n\t\ticon_cart.classList.toggle('is-active');\r\n\t}\r\n\r\n\tfunction handlePageChange(page) {\r\n\t\tprops.onPageChange && props.onPageChange(page);\r\n\t}\r\n\r\n\tfunction handleSearchChange(value) {\r\n\t\tconst { filter, setFilter } = context;\r\n\t\tsetFilter && setFilter({\r\n\t\t\t...filter,\r\n\t\t\tsearch: value,\r\n\t\t\tpage: 1\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleSortChange(value) {\r\n\t\tconst { filter, setFilter } = context;\r\n\t\tsetFilter && setFilter({\r\n\t\t\t...filter,\r\n\t\t\tsort: value,\r\n\t\t\tpage: 1\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='products-page'>\r\n\t\t\t<div className='cart-area text-right'>\r\n\t\t\t\t<span id='icon-cart' ref={el => icon_cart = el} onClick={handleClickIconCart}>\r\n\t\t\t\t\t<img src={require('../images/icon-cart.png')} />\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttotalQty > 0 &&\r\n\t\t\t\t\t\t<span className='notification'>{totalQty}</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t</span>\r\n\t\t\t\t<CartTable />\r\n\t\t\t</div>\r\n\t\t\t<div className='filter-area'>\r\n\t\t\t\t<div className='filter-row row'>\r\n\t\t\t\t\t<div className='column column-8-sm'>\r\n\t\t\t\t\t\t<SearchBox value={filter['search'] || ''} onChange={handleSearchChange} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='column column-4-sm'>\r\n\t\t\t\t\t\t<SortBox value={filter['sort'] || ''} onChange={handleSortChange} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='filter-row row'>\r\n\t\t\t\t\t<div className='column column-4-sm'>\r\n\t\t\t\t\t\t<CustomQuery query={CATEGORY_QUERY}>\r\n\t\t\t\t\t\t\t{({ data }) => (\r\n\t\t\t\t\t\t\t\t<FilterBox\r\n\t\t\t\t\t\t\t\t\tfilterName='category'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Select category'\r\n\t\t\t\t\t\t\t\t\tdata={data['category']}\r\n\t\t\t\t\t\t\t\t\tvalue={filter['category'] || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={value => {\r\n\t\t\t\t\t\t\t\t\t\tsetFilter && setFilter({\r\n\t\t\t\t\t\t\t\t\t\t\t...filter,\r\n\t\t\t\t\t\t\t\t\t\t\tcategory: value,\r\n\t\t\t\t\t\t\t\t\t\t\tpage: 1\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</CustomQuery>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='column column-4-sm'>\r\n\t\t\t\t\t\t<CustomQuery query={AUTHOR_QUERY}>\r\n\t\t\t\t\t\t\t{({ data }) => (\r\n\t\t\t\t\t\t\t\t<FilterBox\r\n\t\t\t\t\t\t\t\t\tfilterName='author'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Select author'\r\n\t\t\t\t\t\t\t\t\tdata={data['author']}\r\n\t\t\t\t\t\t\t\t\tvalue={filter['author'] || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={value => {\r\n\t\t\t\t\t\t\t\t\t\tsetFilter && setFilter({\r\n\t\t\t\t\t\t\t\t\t\t\t...filter,\r\n\t\t\t\t\t\t\t\t\t\t\tauthor: value,\r\n\t\t\t\t\t\t\t\t\t\t\tpage: 1\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</CustomQuery>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='column column-4-sm'>\r\n\t\t\t\t\t\t<CustomQuery query={BRAND_QUERY}>\r\n\t\t\t\t\t\t\t{({ data }) => (\r\n\t\t\t\t\t\t\t\t<FilterBox\r\n\t\t\t\t\t\t\t\t\tfilterName='brand'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Select brand'\r\n\t\t\t\t\t\t\t\t\tdata={data['brand']}\r\n\t\t\t\t\t\t\t\t\tvalue={filter['brand'] || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={value => {\r\n\t\t\t\t\t\t\t\t\t\tsetFilter && setFilter({\r\n\t\t\t\t\t\t\t\t\t\t\t...filter,\r\n\t\t\t\t\t\t\t\t\t\t\tbrand: value,\r\n\t\t\t\t\t\t\t\t\t\t\tpage: 1\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</CustomQuery>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ClearFilter />\r\n\t\t\t\t<div className='item-found'>\r\n\t\t\t\t\tResults: {count}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Loading />\r\n\t\t\t{/* BEGIN BOOK LIST */}\r\n\t\t\t{\r\n\t\t\t\t<div className='card-list'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlist && list.map(item =>\r\n\t\t\t\t\t\t\t<Book item={item} key={item._id} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{/* END BOOK LIST */}\r\n\t\t\t<Pagination\r\n\t\t\t\tpage={filter.page}\r\n\t\t\t\tlimit={filter.limit}\r\n\t\t\t\tmaxPage={5}\r\n\t\t\t\tcount={count}\r\n\t\t\t\tonPageChange={handlePageChange}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nBookList.contextTypes = {\r\n\tfilter: PropTypes.object,\r\n\tsetFilter: PropTypes.func,\r\n\tcart: PropTypes.object\r\n};\r\n\r\n\r\nexport default BookList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport CustomLink from '../components/CustomLink';\r\nimport BookList from '../components/BookList';\r\n// GRAPHQL\r\nimport { compose, graphql } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\n\r\n\r\nconst BOOK_QUERY = gql`\r\n\tquery book(\r\n        $id: ID, \r\n        $page: Int, $limit: Int,\r\n        $category: String, $author: String, $brand: String,\r\n        $sort: String, $search: String\r\n    ) {\r\n\t\tbook(\r\n            id: $id, \r\n            page: $page, limit: $limit,\r\n            category: $category, author: $author, brand: $brand,\r\n            sort: $sort, search: $search\r\n        ) {\r\n\t\t\t... on BookListResponse {\r\n\t\t\t\tlist {\r\n\t\t\t\t\t_id\r\n\t\t\t\t\tname\r\n\t\t\t\t\tprice\r\n\t\t\t\t\timg\r\n\t\t\t\t\tcategory {\r\n\t\t\t\t\t\t_id\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcount\r\n\t\t\t}\r\n\r\n\t\t\t... on Book {\r\n\t\t\t\t_id\r\n\t\t\t\tname\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\n\r\nclass HomePage extends React.Component {\r\n    static childContextTypes = {\r\n        filter: PropTypes.object,\r\n        setFilter: PropTypes.func,\r\n        cart: PropTypes.object\r\n    }\r\n\r\n    getChildContext(){\r\n        return({\r\n            filter: this.props.filter,\r\n            setFilter: this.props.setFilter,\r\n            cart: this.props.cart\r\n        });\r\n    }\r\n\r\n    handlePageChange = (page) => {\r\n        const { setLoading, setFilter, bookQuery } = this.props;\r\n\t\t// const fetchMore = bookQuery && bookQuery.fetchMore;\r\n        \r\n\t\t// setLoading(true);\r\n\t\t// fetchMore && fetchMore({\r\n\t\t// \tvariables: { page },\r\n\t\t// \tupdateQuery: (prevResult, { fetchMoreResult }) => ({\r\n\t\t// \t\t...prevResult,\r\n\t\t// \t\tbook: fetchMoreResult.book\r\n\t\t// \t})\r\n\t\t// })\r\n\t\t// .then((res) => {\r\n\t\t// \t// setLoading(false);\r\n\t\t// \tsetFilter({ page });\r\n        // });\r\n        setFilter({ page });\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n        const refetch = newProps.bookQuery && newProps.bookQuery.refetch;\r\n        refetch && refetch({\r\n            ...newProps.filter\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const { user, bookQuery } = this.props;\r\n        const bookData = bookQuery.book;\r\n\r\n        return(\r\n            <div className='wrap-lg'>\r\n                <div className='admin-header row'>\r\n                    <ul className='admin-nav fl'>\r\n                        <CustomLink to='/' exact>Home</CustomLink>\r\n                        <CustomLink to='/admin/book'>Admin - Books</CustomLink>\r\n                    </ul>\r\n                    <ul className='admin-nav fr'>\r\n                        {\r\n                            (user && user.username)\r\n                            ?\r\n                            <CustomLink to='/user/logout'>Log out</CustomLink>\r\n                            :\r\n                            <CustomLink to='/user/login'>Log in</CustomLink>\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                \r\n                <BookList bookData={bookData} onPageChange={this.handlePageChange} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(\r\n        state => ({\r\n            user: state.user,\r\n            filter: state.filter,\r\n            cart: state.cart\r\n        }),\r\n        dispatch => bindActionCreators({\r\n\t\t\tsetLoading: status => ({ type: status ? 'IS_LOADING' : 'STOP_LOADING' }),\r\n\t\t\tsetFilter: options => ({ type: 'IS_FILTERED', payload: options })\r\n\t\t}, dispatch)\r\n    ),\r\n    graphql(BOOK_QUERY, {\r\n\t\tname: 'bookQuery',\r\n\t\toptions: props => ({\r\n\t\t\tvariables: {\r\n\t\t\t\t...props.filter\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n)(HomePage);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport Book from '../components/Book';\r\nimport CustomLink from '../components/CustomLink';\r\n// GRAPHQL\r\nimport { compose, graphql } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\n\r\n\r\nconst BOOK_QUERY = gql`\r\n    fragment BookDetail on Book {\r\n        _id\r\n        name\r\n        price\r\n        description\r\n        img\r\n    }\r\n\r\n\tquery book($id: ID, $page: Int, $limit: Int) {\r\n\t\tbook(id: $id) {\r\n\t\t\t... on Book {\r\n\t\t\t\t...BookDetail\r\n                category {\r\n                    _id\r\n                    name\r\n                }\r\n                author {\r\n                    name\r\n                }\r\n                brand {\r\n                    name\r\n                }\r\n                relatedBook(page: $page, limit: $limit) {\r\n                    list {\r\n                        ...BookDetail\r\n                    }\r\n                    count\r\n                    page\r\n                    limit\r\n                }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\n\r\nclass HomePage extends React.Component {\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            page: 1,\r\n            limit: 1,\r\n            count: 1\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n        const newBookId = newProps.match && newProps.match.params.bookId;\r\n        const oldBookId = this.props.match && this.props.match.params.bookId;\r\n        if(newBookId !== oldBookId){\r\n            const refetch = newProps.bookQuery && newProps.bookQuery.refetch;\r\n            refetch && refetch({\r\n                id: newBookId\r\n            });\r\n        }\r\n\r\n        const limit = newProps.bookQuery && newProps.bookQuery.book && newProps.bookQuery.book.relatedBook.limit;\r\n        const page = newProps.bookQuery && newProps.bookQuery.book && newProps.bookQuery.book.relatedBook.page;\r\n        const count = newProps.bookQuery && newProps.bookQuery.book && newProps.bookQuery.book.relatedBook.count;\r\n        const _limit = this.props.bookQuery && this.props.bookQuery.book && this.props.bookQuery.book.relatedBook.limit;\r\n        const _page = this.props.bookQuery && this.props.bookQuery.book && this.props.bookQuery.book.relatedBook.page;\r\n        const _count = this.props.bookQuery && this.props.bookQuery.book && newProps.bookQuery.book.relatedBook.count;\r\n\r\n        if(\r\n            limit !== _limit || page !== _page || count !== _count\r\n        ){\r\n            this.setState({ limit, page, count });\r\n        }\r\n    }\r\n\r\n    handleLoadMore = () => {\r\n        const { page } = this.state;\r\n        const fetchMore = this.props.bookQuery && this.props.bookQuery.fetchMore;\r\n        \r\n        fetchMore && fetchMore({\r\n\t\t\tvariables: { page: page + 1 },\r\n\t\t\tupdateQuery: (prevResult, { fetchMoreResult }) => ({\r\n\t\t\t\t...prevResult,\r\n\t\t\t\tbook: {\r\n                    ...fetchMoreResult.book,\r\n                    relatedBook: {\r\n                        ...prevResult.book.relatedBook,\r\n                        list: [\r\n                            ...prevResult.book.relatedBook.list,\r\n                            ...fetchMoreResult.book.relatedBook.list\r\n                        ],\r\n                        page: fetchMoreResult.book.relatedBook.page\r\n                    }\r\n                }\r\n\t\t\t})\r\n\t\t});\r\n    }\r\n\r\n    render(){\r\n        const { page, limit,count } = this.state;\r\n        const maxPage = Math.ceil(count / limit);\r\n        const { user, bookQuery, addToCart } = this.props;\r\n        const bookData = bookQuery.book;\r\n        const relatedBook = bookData && bookData.relatedBook && bookData.relatedBook.list;\r\n        \r\n        return(\r\n            <div className='wrap-lg'>\r\n                <div className='admin-header row'>\r\n                    <ul className='admin-nav fl'>\r\n                        <CustomLink to='/' exact>Home</CustomLink>\r\n                        <CustomLink to='/admin/book'>Admin - Books</CustomLink>\r\n                    </ul>\r\n                    <ul className='admin-nav fr'>\r\n                        {\r\n                            (user && user.username)\r\n                            ?\r\n                            <CustomLink to='/user/logout'>Log out</CustomLink>\r\n                            :\r\n                            <CustomLink to='/user/login'>Log in</CustomLink>\r\n                        }\r\n                    </ul>\r\n                </div>\r\n\r\n                <div className='filter-area book-detail-area'>\r\n                    {bookData && \r\n                        <>\r\n                            <img src={bookData.img} className='book-detail-img' />\r\n                            <div className='book-detail-info'>\r\n                                <table>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <th>Name</th>\r\n                                            <td>{bookData.name}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <th>Price</th>\r\n                                            <td><b>${bookData.price}</b></td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <th>Category</th>\r\n                                            <td>{bookData.category.name}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <th>Author</th>\r\n                                            <td>{bookData.author.name}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <th>Brand</th>\r\n                                            <td>{bookData.brand.name}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><a href='javascript:;' className='btnAddToCart' onClick={() => addToCart({...bookData, qty: 1})}>BUY</a></td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </div>\r\n\r\n                <h2 className='section-title'><span>Related Books</span></h2>\r\n                {\r\n                    relatedBook &&\r\n                    <>\r\n                        <div className='card-list'>\r\n                            {\r\n                                relatedBook.map(item =>\r\n                                    <Book item={item} key={item._id} />\r\n                                )\r\n                            }\r\n                        </div>\r\n                        {\r\n                            page < maxPage && \r\n                            <a href='javascript:;' className='btnAddToCart' onClick={this.handleLoadMore}>Load more</a>\r\n                        }\r\n                    </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(\r\n        state => ({\r\n            user: state.user,\r\n            cart: state.cart\r\n        }),\r\n        dispatch => ({\r\n            addToCart: item => dispatch({type: 'ADD_TO_CART', payload: item})\r\n        })\r\n    ),\r\n    graphql(BOOK_QUERY, {\r\n\t\tname: 'bookQuery',\r\n\t\toptions: props => ({\r\n            variables: {\r\n                id: props.match && props.match.params.bookId,\r\n                page: 1,\r\n                limit: 3\r\n            }\r\n        })\r\n\t})\r\n)(HomePage);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Link, Redirect } from 'react-router-dom';\r\nimport CustomLink from '../../components/CustomLink';\r\n\r\n\r\nclass AdminPage extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { updateLoginUser } = this.props;\r\n        let user = this._getUser();\r\n        updateLoginUser && updateLoginUser(user);\r\n    }\r\n\r\n    _getUser(){\r\n        let user = sessionStorage.getItem('user');\r\n        user = user ? JSON.parse(user) : {};\r\n        if(!user){\r\n            user = this.props.user;\r\n        }\r\n        return user;\r\n    }\r\n\r\n    render() {\r\n        const user = this._getUser();\r\n        \r\n        return (\r\n            user.username\r\n            ?\r\n            <div className='wrap-lg'>\r\n                <div className='admin-header row'>\r\n                    <ul className='admin-nav fl'>\r\n                        <CustomLink to='/' exact>Home</CustomLink>\r\n                        <CustomLink to='/admin/book'>Admin - Books</CustomLink>\r\n                    </ul>\r\n                    <ul className='admin-nav fr'>\r\n                        {\r\n                            (user && user.username)\r\n                            ?\r\n                            <CustomLink to='/user/logout'>Log out</CustomLink>\r\n                            :\r\n                            <CustomLink to='/user/login'>Log in</CustomLink>\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                {this.props.children}\r\n            </div>\r\n            :\r\n            <Redirect to='/user/login' />\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default connect(\r\n    state => ({\r\n        user: state.user\r\n    }),\r\n    dispatch => ({\r\n        updateLoginUser: user => dispatch({ type: 'FETCH_USER_SUCCESS', payload: user })\r\n    })\r\n)(AdminPage);","import React from 'react';\r\n\r\n\r\nclass AdminDashboardPage extends React.Component {\r\n    render(){\r\n        return(\r\n            <div>\r\n                <h1>HELLO DASHBOARD</h1>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AdminDashboardPage;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass AdminBookList extends React.Component {\r\n    constructor(props, context){\r\n        super(props, context);\r\n\r\n        this.handleEdit = this.handleEdit.bind(this);\r\n        this.handleRemove = this.handleRemove.bind(this);\r\n        this.handleAdd = this.handleAdd.bind(this);\r\n    }\r\n\r\n    static contextTypes = {\r\n        bookList: PropTypes.array,\r\n        count: PropTypes.number,\r\n        editItem: PropTypes.object,\r\n        handleEdit: PropTypes.func,\r\n        handleAdd: PropTypes.func,\r\n        _removeItemFromBookList: PropTypes.func\r\n    };\r\n\r\n    handleEdit(item){\r\n        this.context.handleEdit && this.context.handleEdit(item);\r\n    }\r\n\r\n    handleRemove(id){\r\n        if(window.confirm('Do you want to remove it ?')){\r\n            this.context._removeItemFromBookList && this.context._removeItemFromBookList(id);\r\n        }\r\n    }\r\n\r\n    handleAdd(){\r\n        this.context.handleAdd && this.context.handleAdd();\r\n    }\r\n\r\n    render(){\r\n        const { bookList, count } = this.context;\r\n\r\n        return(\r\n            <div className='admin-table-area'>\r\n                <div className='row mb10'>\r\n                    <button type='button' className='btn-form fr' onClick={this.handleAdd}>Add</button>\r\n                </div>\r\n                <table className='admin-list-table'>\r\n                    <thead>\r\n                        <tr>\r\n                            <td>No.</td>\r\n                            <td>Image</td>\r\n                            <td>Name</td>\r\n                            <td>Price</td>\r\n                            <td>Edit</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            bookList && bookList.map((item, index) =>\r\n                                <tr key={index}>\r\n                                    <td className='cell-50'>{index + 1}</td>\r\n                                    <td className='cell-100'><img src={item.img} className='w100p' /></td>\r\n                                    <td className='cell-200'>{item.name}</td>\r\n                                    <td className='cell-100'>{item.price}</td>\r\n                                    <td className='cell-100'>\r\n                                        <span className='btn' onClick={() => this.handleEdit(item)}>Edit</span>\r\n                                        <span className='btn' onClick={() => this.handleRemove(item._id)}>X</span>\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AdminBookList;","import React from 'react';\r\nimport { Field } from 'formik';\r\n\r\n\r\nclass FormBuilder extends React.Component {\r\n    constructor(props, context){\r\n        super(props, context);\r\n\r\n        this.stopPropagation = this.stopPropagation.bind(this);\r\n    }\r\n\r\n    getFieldComponent(item){\r\n        const { values, setFieldValue } = this.props;\r\n\r\n        switch(item.component){\r\n            case 'text':\r\n                return(\r\n                    <Field \r\n                        type='text' \r\n                        name={item.fieldName} \r\n                        className='input' \r\n                    />\r\n                );\r\n            case 'password':\r\n                return(\r\n                    <Field \r\n                        type='password' \r\n                        name={item.fieldName} \r\n                        className='input' \r\n                    />\r\n                );\r\n            case 'email':\r\n                return(\r\n                    <Field \r\n                        type='email' \r\n                        name={item.fieldName} \r\n                        className='input' \r\n                    />\r\n                );\r\n            case 'number':\r\n                return(\r\n                    <Field \r\n                        type='number' \r\n                        name={item.fieldName} \r\n                        className='input'\r\n                    />\r\n                );\r\n            case 'textarea':\r\n                return(\r\n                    <Field \r\n                        component='textarea' \r\n                        name={item.fieldName} \r\n                        className='input input-textarea'\r\n                    />\r\n                );\r\n            case 'file':\r\n                return(\r\n                    <input \r\n                        name={item.fieldName}\r\n                        type='file'\r\n                        className='input input-file'\r\n                        onChange={event => {\r\n                            setFieldValue && setFieldValue(item.fieldName, event.currentTarget.files[0]);\r\n                        }}\r\n                    />\r\n                );\r\n            case 'select':\r\n                return(\r\n                    <Field \r\n                        component='select' \r\n                        name={item.fieldName} \r\n                        className='input input-select' \r\n                    >\r\n                        <option value=''>Select</option>\r\n                        {\r\n                            item.data && item.data.map(x => {\r\n                                return (\r\n                                    <option value={x._id} key={x._id}>{x.name}</option>\r\n                                );\r\n                            })\r\n                        }\r\n                    </Field>\r\n                );\r\n            default:\r\n                return(\r\n                    <Field \r\n                        type='text' \r\n                        name={item.fieldName} \r\n                        className='input' \r\n                    />\r\n                );\r\n        }\r\n    }\r\n\r\n    stopPropagation(e){\r\n        e.stopPropagation();\r\n    }\r\n\r\n    render(){\r\n        const {\r\n            values,\r\n            touched,\r\n            error,\r\n            errors,\r\n            handleChange,\r\n            handleBlur,\r\n            handleReset,\r\n            handleSubmit,\r\n            setFieldValue,\r\n            formBuilderData\r\n        } = this.props;\r\n        \r\n        return (\r\n            <div className='admin-form-area' onClick={this.stopPropagation}>\r\n                <form onSubmit={handleSubmit}>\r\n                    {\r\n                        formBuilderData && formBuilderData.map(item =>\r\n                            <div className='input-group' key={item.fieldName}>\r\n                                <div className='input-label'>{item.label}</div>\r\n                                {this.getFieldComponent(item)}\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        errors && Object.keys(errors).length > 0 &&\r\n                        <div className='input-errors-area'>\r\n                            {\r\n                                Object.keys(errors).map(k => {\r\n                                    return <div className='input-error' key={k}>{errors[k]}</div>;\r\n                                })\r\n                            }\r\n                        </div>\r\n                    }\r\n                    {\r\n                        error &&\r\n                        <div className='input-errors-area'>\r\n                            <div className='input-error'>{error._form}</div>\r\n                        </div>\r\n                    }\r\n\r\n                    <button type='button' className='btn-form mr20' onClick={handleReset}>Reset</button>\r\n                    <button type='submit' className='btn-form'>Submit</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default FormBuilder;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withFormik } from 'formik';\r\nimport FormBuilder from './FormBuilder';\r\nimport { \r\n    BOOK_API_URL,\r\n    CATEGORY_API_URL,\r\n    AUTHOR_API_URL,\r\n    BRAND_API_URL\r\n} from '../../constants/ApiUrls';\r\n\r\n\r\nconst BookFormBuilder = withFormik({\r\n    displayName: 'AdminBookForm',\r\n    enableReinitialize: true,\r\n\r\n    mapPropsToValues: ({ editItem }) => ({\r\n        name: editItem ? editItem.name : '',\r\n        price: editItem ? editItem.price : '',\r\n        img: '',\r\n        category: editItem ? editItem.category._id : '',\r\n        author: editItem ? editItem.author._id : '',\r\n        brand: editItem ? editItem.brand._id : '',\r\n        description: (editItem && editItem.description !== 'null') ? editItem.description : ''\r\n    }),\r\n\r\n    validate: values => {\r\n        const errors = {};\r\n\r\n        if (!values.name) {\r\n            errors.name = 'Name Required';\r\n        }\r\n\r\n        if (!values.price) {\r\n            errors.price = 'Price Required';\r\n        }\r\n\r\n        if (!values.category) {\r\n            errors.category = 'Category Required';\r\n        }\r\n\r\n        if (!values.author) {\r\n            errors.author = 'Author Required';\r\n        }\r\n\r\n        if (!values.brand) {\r\n            errors.brand = 'Brand Required';\r\n        }\r\n\r\n        return errors;\r\n    },\r\n\r\n    onReset: (values) => {\r\n        console.log('RESET', values);\r\n    },\r\n\r\n    handleSubmit: (values, { setSubmitting, validateForm, resetForm, props: { editItem, onSubmitSuccess, token }, setError }) => {\r\n        validateForm();\r\n        console.log('TOKEN', token);\r\n        let method;\r\n        let apiEndpoint;\r\n        const id = editItem ? editItem._id : '';\r\n        if (editItem) {\r\n            method = 'PUT';\r\n            apiEndpoint = `${BOOK_API_URL}/${id}`;\r\n        }\r\n        else {\r\n            method = 'POST';\r\n            apiEndpoint = `${BOOK_API_URL}`;\r\n        }\r\n\r\n        let formData = new FormData();\r\n        for (let field in values) {\r\n            formData.append(field, values[field]);\r\n        }\r\n\r\n        fetch(apiEndpoint, {\r\n            method,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            },\r\n            body: formData\r\n        })\r\n        .then(res => res.json())\r\n        .then(json => {\r\n            setSubmitting(false);\r\n            resetForm();\r\n            if (onSubmitSuccess) {\r\n                onSubmitSuccess(json);\r\n            }\r\n        })\r\n        .catch(err => setError({_form: err}));\r\n    },\r\n\r\n    validateOnChange: false,\r\n    validateOnBlur: false\r\n})(FormBuilder);\r\n\r\n\r\nclass AdminBookForm extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n\r\n        this.state = {\r\n            formBuilderData: [\r\n                {\r\n                    label: 'Name',\r\n                    fieldName: 'name',\r\n                    component: 'text'\r\n                },\r\n                {\r\n                    label: 'Price',\r\n                    fieldName: 'price',\r\n                    component: 'number'\r\n                },\r\n                {\r\n                    label: 'Category',\r\n                    fieldName: 'category',\r\n                    component: 'select'\r\n                },\r\n                {\r\n                    label: 'Author',\r\n                    fieldName: 'author',\r\n                    component: 'select'\r\n                },\r\n                {\r\n                    label: 'Brand',\r\n                    fieldName: 'brand',\r\n                    component: 'select'\r\n                },\r\n                {\r\n                    label: 'Image',\r\n                    fieldName: 'img',\r\n                    component: 'file'\r\n                },\r\n                {\r\n                    label: 'Description',\r\n                    fieldName: 'description',\r\n                    component: 'textarea'\r\n                }\r\n            ]\r\n        };\r\n\r\n        this._handleSubmitSuccess = this._handleSubmitSuccess.bind(this);\r\n    }\r\n\r\n    static contextTypes = {\r\n        editItem: PropTypes.object,\r\n        user: PropTypes.object,\r\n        handleEdit: PropTypes.func,\r\n        hideForm: PropTypes.func,\r\n        _addItemToBookList: PropTypes.func,\r\n        _handleSubmitSuccess: PropTypes.func\r\n    };\r\n\r\n    componentDidMount() {\r\n        const cPromise = fetch(`${CATEGORY_API_URL}`)\r\n            .then(res => res.json());\r\n        const aPromise = fetch(`${AUTHOR_API_URL}`)\r\n            .then(res => res.json());\r\n        const bPromise = fetch(`${BRAND_API_URL}`)\r\n            .then(res => res.json());\r\n\r\n        Promise.all([cPromise, aPromise, bPromise])\r\n            .then(data => {\r\n                this.setState(state => {\r\n                    let formBuilderData = [...state.formBuilderData];\r\n                    formBuilderData = formBuilderData.map(item => {\r\n                        if (item.fieldName === 'category') {\r\n                            item.data = this._getChildCategory(data[0]);\r\n                        }\r\n                        if (item.fieldName === 'author') {\r\n                            item.data = data[1];\r\n                        }\r\n                        if (item.fieldName === 'brand') {\r\n                            item.data = data[2];\r\n                        }\r\n\r\n                        return item;\r\n                    });\r\n\r\n                    return { ...state, formBuilderData };\r\n                });\r\n            });\r\n    }\r\n\r\n    _getChildCategory(data) {\r\n        let parents = [];\r\n\r\n        data.forEach(item => {\r\n            if (item.parent_id) {\r\n                parents.push(item.parent_id);\r\n            }\r\n        });\r\n\r\n        const children = data.filter(item => {\r\n            return !parents.includes(item._id);\r\n        });\r\n\r\n        return children;\r\n    }\r\n\r\n    _handleSubmitSuccess(data) {\r\n        this.context._handleSubmitSuccess && this.context._handleSubmitSuccess(data);\r\n    }\r\n\r\n    render() {\r\n        const { editItem, user } = this.context;\r\n        const token = user && user.token;\r\n\r\n        return (\r\n            <BookFormBuilder\r\n                formBuilderData={this.state.formBuilderData}\r\n                editItem={editItem}\r\n                onSubmitSuccess={this._handleSubmitSuccess}\r\n                token={token}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AdminBookForm;","import React from 'react';\r\n\r\n\r\nconst Pagination = ({page, limit, count, toPage, maxPage}) => {\r\n\tlet totalPage = Math.ceil(count / limit);\r\n\tlet startPage = page - (Math.ceil(maxPage / 2) - 1);\r\n\tlet endPage = page + Math.floor(maxPage / 2);\r\n\tif(startPage < 1){\r\n\t\tstartPage = 1;\r\n\t\tendPage = startPage + (maxPage - 1);\r\n\t}\r\n\tif(endPage > totalPage){\r\n\t\tendPage = totalPage;\r\n\t\tstartPage = endPage - (maxPage - 1);\r\n\t}\r\n\tstartPage = startPage > 1 ? startPage : 1;\r\n\tendPage = endPage < totalPage ? endPage : totalPage;\r\n\r\n\tvar pArr = [];\r\n\tfor(var i=startPage; i<=endPage; i++){\r\n\t\tpArr.push(i);\r\n\t}\r\n\t\r\n\treturn(\r\n\t\ttotalPage > 1 \r\n\t\t?\r\n\t\t<ul className=\"pagination text-center mt20 mb40\">\r\n\t\t\t{\r\n\t\t\tstartPage > 1 &&\r\n\t\t\t[\r\n\t\t\t\t<li key={1}><a href=\"javascript:;\" onClick={() => toPage && toPage(1)}>&lt;</a></li>,\r\n\t\t\t\t<li key={'prevPageGroup'}><a href=\"javascript:;\" onClick={() => toPage && toPage(page - maxPage < 1 ? 1 : page - maxPage)}>...</a></li>\r\n\t\t\t]\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\tpArr.map((item) => {\r\n\t\t\t\treturn <li className={item == page ? 'is-active' : ''} key={item} onClick={() => toPage && toPage(item)}><a href=\"javascript:;\">{item}</a></li>})\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\tendPage < totalPage &&\r\n\t\t\t[\r\n\t\t\t\t<li key={'nextPageGroup'}><a href=\"javascript:;\" onClick={() => toPage && toPage(page + maxPage > totalPage ? totalPage : page + maxPage)}>...</a></li>,\r\n\t\t\t\t<li key={totalPage}><a href=\"javascript:;\" onClick={() => toPage && toPage(totalPage)}>&gt;</a></li>\r\n\t\t\t]\r\n\t\t\t}\r\n\t\t</ul>\r\n\t\t:\r\n\t\tnull\r\n\t)   \r\n};\r\n\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport AdminBookList from '../../components/admin/AdminBookList';\r\nimport AdminBookForm from '../../components/admin/AdminBookForm';\r\nimport Pagination from '../../components/admin/Pagination';\r\nimport {\r\n    BOOK_API_URL,\r\n    ADMIN_API_URL,\r\n    CATEGORY_API_URL,\r\n    AUTHOR_API_URL,\r\n    BRAND_API_URL\r\n} from '../../constants/ApiUrls';\r\n\r\n\r\nclass AdminBookPage extends React.Component {\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            editItem: null,\r\n            addItem: false,\r\n            bookList: [],\r\n            maxPage: 5,\r\n            count: 0,\r\n            filterParams: {\r\n                page: 1,\r\n                limit: 5\r\n            }\r\n        };\r\n\r\n        this.handleEdit = this.handleEdit.bind(this);\r\n        this.handleAdd = this.handleAdd.bind(this);\r\n        this.hideForm = this.hideForm.bind(this);\r\n        this._removeItemFromBookList = this._removeItemFromBookList.bind(this);\r\n        this._addItemToBookList = this._addItemToBookList.bind(this);\r\n        this._handleSubmitSuccess = this._handleSubmitSuccess.bind(this);\r\n        this._toPage = this._toPage.bind(this);\r\n    }\r\n\r\n    static childContextTypes = {\r\n        bookList: PropTypes.array,\r\n        count: PropTypes.number,\r\n        editItem: PropTypes.object,\r\n        handleEdit: PropTypes.func,\r\n        handleAdd: PropTypes.func,\r\n        hideForm: PropTypes.func,\r\n        _removeItemFromBookList: PropTypes.func,\r\n        _addItemToBookList: PropTypes.func,\r\n        _handleSubmitSuccess: PropTypes.func,\r\n        user: PropTypes.object\r\n    };\r\n\r\n    getChildContext(){\r\n        return({\r\n            bookList: this.state.bookList,\r\n            count: this.state.count,\r\n            editItem: this.state.editItem,\r\n            handleEdit: this.handleEdit,\r\n            handleAdd: this.handleAdd,\r\n            hideForm: this.hideForm,\r\n            _removeItemFromBookList: this._removeItemFromBookList,\r\n            _addItemToBookList: this._addItemToBookList,\r\n            _handleSubmitSuccess: this._handleSubmitSuccess,\r\n            user: this.props.user\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { filterParams } = this.state;\r\n        this.fetchBookAPI(filterParams);\r\n    }\r\n\r\n    fetchBookAPI(filterParams={}){\r\n        let query = [];\r\n        for(let x in filterParams){\r\n            const pair = `${x}=${filterParams[x]}`;\r\n            query.push(pair);\r\n        }\r\n        query = query.length > 0 ? '?' + query.join('&') : '';\r\n\r\n        fetch(BOOK_API_URL + query)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            this.setState({ bookList: data.list, count: data.count });\r\n        });\r\n    }\r\n\r\n    handleEdit(item){\r\n        console.log('HANDLE EDIT', item);\r\n        this.setState({ editItem: item, addItem: false });\r\n    }\r\n\r\n    handleAdd(){\r\n        this.setState({ editItem: null, addItem: true });\r\n    }\r\n\r\n    hideForm(){\r\n        this.setState({ editItem: null, addItem: false });\r\n    }\r\n\r\n    _removeItemFromBookList(id){\r\n        const { user } = this.props;\r\n        if(user && user.token){\r\n            console.log('DELETE', id);\r\n            fetch(`${BOOK_API_URL}/${id}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Authorization': `Bearer ${user.token}`\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                let { bookList } = this.state;\r\n                bookList = bookList.filter(item => item._id !== id)\r\n                this.setState({ bookList });\r\n            })\r\n            .catch(err => console.log('DELETE ERROR', err));\r\n        }\r\n    }\r\n\r\n    _addItemToBookList(item){\r\n        let { bookList } = this.state;\r\n        item.category = { _id: item.category };\r\n        item.author = { _id: item.author };\r\n        item.brand = { _id: item.brand };\r\n        bookList.push(item);\r\n        this.setState({ bookList });\r\n    }\r\n\r\n    _editItemFromBookList(item){\r\n        let { bookList, editItem } = this.state;\r\n\r\n        for(let i=0, len=bookList.length; i<len; i++){\r\n            if(bookList[i]._id === editItem._id){\r\n                bookList[i] = { ...item };\r\n                bookList[i]['category'] = { _id: item.category };\r\n                bookList[i]['author'] = { _id: item.author };\r\n                bookList[i]['brand'] = { _id: item.brand };\r\n                break;\r\n            }\r\n        }\r\n        this.setState({ bookList });\r\n    }\r\n\r\n    _handleSubmitSuccess(data){\r\n        let { bookList, editItem } = this.state;\r\n\r\n        if(editItem === null){\r\n            this._addItemToBookList(data);\r\n        }\r\n        else {            \r\n            this._editItemFromBookList(data);\r\n        }\r\n\r\n        this.hideForm();\r\n    }\r\n\r\n    _toPage(p){\r\n        this.setState(\r\n            state => ({\r\n                filterParams: { ...state.filterParams, page: p }\r\n            }),\r\n            () => this.fetchBookAPI(this.state.filterParams)\r\n        );\r\n    }\r\n\r\n    render(){\r\n        const { editItem, addItem, maxPage, count, filterParams: { page, limit } } = this.state;\r\n\r\n        return(\r\n            <div className='admin-page book-page'>\r\n                <AdminBookList />\r\n                {\r\n                    (editItem || addItem) &&\r\n                    <div className='overlay' onClick={this.hideForm}>\r\n                        <div className='overlay-inner' onClick={this.stopPropagation}>\r\n                            <AdminBookForm />\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <Pagination \r\n                    page={page}\r\n                    limit={limit}\r\n                    maxPage={maxPage}\r\n                    count={count}\r\n                    toPage={this._toPage}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default connect(\r\n    state => ({\r\n        user: state.user\r\n    })\r\n)(AdminBookPage);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withFormik } from 'formik';\r\nimport FormBuilder from '../../components/admin/FormBuilder';\r\nimport { \r\n    USER_API_URL\r\n} from '../../constants/ApiUrls';\r\n// APOLLO\r\nimport { graphql } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\n// QUERY AND MUTATION\r\nconst LOGIN_MUTATION = gql`\r\n    mutation login($username: String!, $password: String!) {\r\n        login(username: $username, password: $password) {\r\n            username\r\n            token\r\n            error\r\n        }\r\n    }\r\n`;\r\n\r\n\r\nconst LoginFormBuilder = withFormik({\r\n    displayName: 'AdminLoginForm',\r\n    enableReinitialize: true,\r\n\r\n    mapPropsToValues: (props) => ({\r\n        username: '',\r\n        password: ''\r\n    }),\r\n\r\n    validate: values => {\r\n        const errors = {};\r\n\r\n        if (!values.username) {\r\n            errors.name = 'UsenName Required';\r\n        }\r\n\r\n        if (!values.password) {\r\n            errors.category = 'Password Required';\r\n        }\r\n\r\n        return errors;\r\n    },\r\n\r\n    onReset: (values) => {\r\n        console.log('RESET', values);\r\n    },\r\n\r\n    handleSubmit: (values, { setSubmitting, validateForm, resetForm, setError, props }) => {\r\n        validateForm();\r\n        const { login } = props;\r\n        login && login({\r\n            variables: {username: values.username, password: values.password}\r\n        })\r\n        .then(\r\n            ({ data }) => {\r\n                setSubmitting(false);\r\n                if(data && data.login.error){  \r\n                    setError({_form: data.login.error});\r\n                }\r\n                else {\r\n                    resetForm();\r\n                    props.onSubmitSuccess && props.onSubmitSuccess(data);\r\n                }\r\n            }\r\n        )\r\n        .catch(err => {\r\n            setError({_form: err.toString()});\r\n        });\r\n        // fetch(`${USER_API_URL}/login`, {\r\n        //     method: 'POST',\r\n        //     headers: {\r\n        //         'Content-Type': 'application/json' \r\n        //     },\r\n        //     body: JSON.stringify({\r\n        //         username: values.username,\r\n        //         password: values.password\r\n        //     })\r\n        // })\r\n        // .then(\r\n        //     res => {\r\n        //         if(res.status === 200){\r\n        //             return res.json();\r\n        //         }\r\n        //         throw new Error(res.statusText);\r\n        //     }\r\n        // )\r\n        // .then(\r\n        //     json => {\r\n        //         setSubmitting(false);\r\n        //         resetForm();\r\n        //         console.log('JSON', json);\r\n        //         props.onSubmitSuccess && props.onSubmitSuccess(json);\r\n        //     }\r\n        // )\r\n        // .catch(err => {\r\n        //     setError({_form: 'Invalid username and password'});\r\n        // });\r\n    },\r\n\r\n    validateOnChange: false,\r\n    validateOnBlur: false\r\n})(FormBuilder);\r\n\r\n\r\nclass AdminLoginPage extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n\r\n        this.state = {\r\n            formBuilderData: [\r\n                {\r\n                    label: 'Username',\r\n                    fieldName: 'username',\r\n                    component: 'text'\r\n                },\r\n                {\r\n                    label: 'Password',\r\n                    fieldName: 'password',\r\n                    component: 'password'\r\n                }\r\n            ]\r\n        };\r\n\r\n        this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\r\n    }\r\n\r\n    onSubmitSuccess(data){\r\n        const { updateLoginUser } = this.props;\r\n        const user = {\r\n            username: data.login.username,\r\n            token: data.login.token\r\n        };\r\n        updateLoginUser && updateLoginUser(user);\r\n        sessionStorage.setItem('user', JSON.stringify(user));\r\n        this.props.history.push('/admin/book');\r\n    }\r\n\r\n    render(){\r\n        const { formBuilderData } = this.state;\r\n        const { login } = this.props;\r\n        \r\n        return(\r\n            <div className='admin-login-page'>\r\n                <div className='wrap-lg'>\r\n                    <LoginFormBuilder \r\n                        formBuilderData={formBuilderData}\r\n                        onSubmitSuccess={this.onSubmitSuccess}\r\n                        login={login}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n// export default connect(\r\n//     state => ({\r\n//         user: state.user\r\n//     }),\r\n//     dispatch => ({\r\n//         login: data => dispatch({ type: 'FETCH_USER_SUCCESS', payload: data })\r\n//     })\r\n// )(AdminLoginPage);\r\nexport default compose(\r\n    connect(\r\n        state => ({\r\n            user: state.user\r\n        }),\r\n        dispatch => ({\r\n            updateLoginUser: data => dispatch({ type: 'FETCH_USER_SUCCESS', payload: data })\r\n        })\r\n    ),\r\n    graphql(LOGIN_MUTATION, { name: 'login' })\r\n)(AdminLoginPage);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { \r\n    USER_API_URL\r\n} from '../../constants/ApiUrls';\r\n\r\n\r\nclass AdminLogoutPage extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { logout } = this.props;\r\n        sessionStorage.removeItem('user');\r\n        setTimeout(() => {\r\n            logout && logout({});\r\n        }, 0);\r\n        console.log('LOG OUT');\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <Redirect to='/' />\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default connect(\r\n    state => ({\r\n        user: state.user\r\n    }),\r\n    dispatch => ({\r\n        logout: () => dispatch({ type: 'FETCH_USER_SUCCESS', payload: {} })\r\n    })\r\n)(AdminLogoutPage);","import React from 'react';\r\nimport { compose } from 'redux';\r\n// APOLLO\r\nimport { Query, Mutation, Subscription, graphql } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\n// QUERY AND MUTATION\r\nconst BOOK_QUERY = gql`\r\nquery book($id: ID, $page: Int){\r\n    book(id: $id, page: $page) {\r\n        _id\r\n        name\r\n    }\r\n}`;\r\n\r\nconst LOGIN_MUTATION = gql`\r\n    mutation($username: String!, $password: String!, $file: Upload) {\r\n        login(username: $username, password: $password, file: $file) {\r\n            token\r\n            error\r\n        }\r\n    }\r\n`;\r\n// const uploadsQuery = gql`\r\n// query uploads {\r\n//     uploads {\r\n//         id\r\n//         filename\r\n//         mimetype\r\n//         path\r\n//     }\r\n// }\r\n// `;\r\n// let UploadFile = ({ mutate }) => {\r\n//     const handleChange = ({\r\n//       target: {\r\n//         validity,\r\n//         files: [file]\r\n//       }\r\n//     }) =>\r\n//       validity.valid &&\r\n//       mutate({\r\n//         variables: { file },\r\n//         update(\r\n//           proxy,\r\n//           {\r\n//             data: { singleUpload }\r\n//           }\r\n//         ) {\r\n//           const data = proxy.readQuery({ query: uploadsQuery })\r\n//           data.uploads.push(singleUpload)\r\n//           proxy.writeQuery({ query: uploadsQuery, data })\r\n//         }\r\n//       })\r\n\r\n//     return <input type=\"file\" required onChange={handleChange} />\r\n// };\r\n// UploadFile = graphql(gql`\r\n//     mutation($file: Upload!) {\r\n//         singleUpload(file: $file) {\r\n//             id\r\n//             filename\r\n//             mimetype\r\n//             path\r\n//         }\r\n//     }\r\n// `)(UploadFile);\r\nconst COMMENTS_SUBSCRIPTION = gql`\r\n    subscription {\r\n        message\r\n    }\r\n`;\r\n\r\nconst TestSub = () => (\r\n    <Subscription\r\n        subscription={COMMENTS_SUBSCRIPTION}\r\n    >\r\n        {({ data, loading, error }) => {\r\n            return(\r\n                <h4>HELLO SUB {data && data.message}</h4>\r\n            );\r\n        }}\r\n    </Subscription>\r\n);\r\n\r\n\r\nclass SamplePage extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            bookList: [],\r\n            loginError: ''\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        console.log('RECEIVE', newProps);\r\n        if (newProps.bookQuery.loading === false) {\r\n            this.setState({ bookList: newProps.bookQuery.book });\r\n        }\r\n    }\r\n\r\n    handleClick = () => {\r\n        const [file] = this.file.files;\r\n        console.log('FILE', file, this.file.validity);\r\n        this.props.login && this.props.login({\r\n            variables: {\r\n                username: this.username.value,\r\n                password: this.password.value,\r\n                file\r\n            }\r\n        })\r\n            .then(({ data }) => {\r\n                this.setState({ loginError: data && data.login.error });\r\n                console.log('LOG IN', data);\r\n            });\r\n    }\r\n\r\n    handleLoadMore = () => {\r\n        const { fetchMore } = this.props.bookQuery;\r\n        fetchMore && fetchMore({\r\n            variables: { page: 2 },\r\n            updateQuery: (prevResult, { fetchMoreResult }) => ({\r\n                ...prevResult,\r\n                book: [fetchMoreResult.book]\r\n            })\r\n        })\r\n            .then(({ data, errors, loading }) => {\r\n                console.log('FETCH MORE', data);\r\n                this.setState({ bookList: data.book });\r\n            });\r\n    }\r\n\r\n    // _renderLoginForm(login, { data }){\r\n    //     let username, password;\r\n\r\n    //     function handleClick(){\r\n    //         login({ variables: { username: username.value, password: password.value } })\r\n    //         .then(({ data }) => {\r\n    //             if(data && data.login.error){\r\n    //                 console.log('Invalid');\r\n    //             }\r\n    //             else {\r\n    //                 console.log('LOGGED IN', data);\r\n    //             }\r\n    //         });\r\n    //     }\r\n\r\n    //     return(\r\n    //         <div>\r\n    //             <input type='text' ref={el => username = el} />\r\n    //             <input type='password' ref={el => password = el} />\r\n    //             <button \r\n    //                 onClick={handleClick}\r\n    //             >\r\n    //                 Login\r\n    //             </button>  \r\n    //             {\r\n    //                 data && data.login.error && <h2>{data.login.error}</h2>\r\n    //             }\r\n    //         </div>\r\n    //     );\r\n    // }\r\n\r\n    render() {\r\n        const { bookList, loginError } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <h1>TEST SUB</h1>\r\n                <TestSub />\r\n\r\n                {\r\n                    bookList && bookList.map(item =>\r\n                        <div key={item._id}>\r\n                            {item.name}\r\n                        </div>\r\n                    )\r\n                }\r\n                <button onClick={this.handleLoadMore}>LOAD MORE</button>\r\n\r\n                <div>\r\n                    <input type='text' ref={el => this.username = el} />\r\n                    <input type='password' ref={el => this.password = el} />\r\n                    <input type='file' ref={el => this.file = el} />\r\n                    <button\r\n                        onClick={this.handleClick}\r\n                    >\r\n                        Login\r\n                    </button>\r\n                    {\r\n                        loginError && <h2>{loginError}</h2>\r\n                    }\r\n                </div>\r\n                {/* <Query query={BOOK_QUERY}>\r\n                    {({ loading, error, data }) => {\r\n                        if (loading) return <p>Loading...</p>;\r\n                        if (error) return <p>Error :(</p>;\r\n\r\n                        return data.book.map(({ _id, name }) => (\r\n                            <div key={_id}>\r\n                                {name}\r\n                            </div>\r\n                        ));\r\n                    }}\r\n                </Query> */}\r\n                {/* <Mutation mutation={LOGIN_MUTATION}>\r\n                    {this._renderLoginForm}\r\n                </Mutation> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    graphql(BOOK_QUERY, { name: 'bookQuery' }),\r\n    graphql(LOGIN_MUTATION, { name: 'login' })\r\n)(SamplePage);\r\n// export default UploadFile;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport 'rxjs';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport HomePage from './pages/HomePage';\r\nimport BookDetailPage from './pages/BookDetailPage';\r\nimport AdminPage from './pages/admin/AdminPage';\r\nimport AdminDashboardPage from './pages/admin/AdminDashboardPage';\r\nimport AdminBookPage from './pages/admin/AdminBookPage';\r\nimport AdminLoginPage from './pages/admin/AdminLoginPage';\r\nimport AdminLogoutPage from './pages/admin/AdminLogoutPage';\r\nimport SamplePage from './pages/SamplePage';\r\n\r\n\r\nclass App extends Component {\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path='/' exact component={HomePage} />\r\n\t\t\t\t\t<Route path='/product/:bookId' exact component={BookDetailPage} />\r\n\t\t\t\t\t<Route path='/user/login' exact component={AdminLoginPage} />\r\n\t\t\t\t\t<Route path='/user/logout' exact component={AdminLogoutPage} />\r\n\t\t\t\t\t<Route path='/admin'>\r\n\t\t\t\t\t\t<AdminPage>\r\n\t\t\t\t\t\t\t<Route path='/admin/dashboard' exact component={AdminDashboardPage} />\r\n\t\t\t\t\t\t\t<Route path='/admin/book' exact component={AdminBookPage} />\r\n\t\t\t\t\t\t</AdminPage>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path='/sample' exact component={SamplePage} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</BrowserRouter>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {\r\n    FETCH_PRODUCT_SUCCESS\r\n} from '../../constants/ActionTypes';\r\n\r\n\r\nconst productReducer = (state={}, action) => {\r\n\tswitch(action.type){\r\n\t\tcase FETCH_PRODUCT_SUCCESS:\r\n\t\t\treturn action.payload;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\nexport default productReducer;","import {\r\n    FETCH_PRODUCT_REQUEST,\r\n    FETCH_PRODUCT_SUCCESS,\r\n\tIS_FILTERED,\r\n\tCLEAR_FILTER,\r\n    SHOW_ALERT,\r\n\tHIDE_ALERT,\r\n\tIS_LOADING,\r\n\tSTOP_LOADING\r\n} from '../../constants/ActionTypes';\r\n\r\n\r\nconst statusReducer = (state={}, action) => {\r\n\tswitch(action.type){\r\n\t\tcase IS_LOADING:\r\n\t\t\treturn {...state, isLoading: true};\r\n\t\tcase STOP_LOADING:\r\n\t\t\treturn {...state, isLoading: false};\r\n\t\tcase FETCH_PRODUCT_REQUEST:\r\n\t\t\treturn {...state, isLoading: true};\r\n\t\tcase FETCH_PRODUCT_SUCCESS:\r\n\t\t\treturn {...state, isLoading: false};\r\n\t\tcase IS_FILTERED:\r\n\t\t\treturn {...state, isFiltered: action.payload};\t\r\n\t\tcase CLEAR_FILTER:\r\n\t\t\treturn {...state, isFiltered: false};\r\n\t\tcase SHOW_ALERT:\r\n\t\t\treturn {...state, showAlert: action.payload};\r\n\t\tcase HIDE_ALERT:\r\n\t\t\treturn {...state, showAlert: null};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\nexport default statusReducer;","import {\r\n    ADD_TO_CART,\r\n    REMOVE_FROM_CART,\r\n    EDIT_CART_ITEM,\r\n    UPDATE_CART,\r\n    DESTROY_CART\r\n} from '../../constants/ActionTypes';\r\n\r\n\r\nconst cartReducer = (state={list: []}, action) => {\r\n\tswitch(action.type){\r\n        case ADD_TO_CART:\r\n            let newState = {...state};\r\n            newState.list.push(action.payload);\r\n\t\t\treturn newState;\r\n        case REMOVE_FROM_CART:\r\n            return {...state, list: state.list.filter(item => item._id !== action.payload._id)};\r\n        case EDIT_CART_ITEM:\r\n            let newList = [...state.list];\r\n            if(action.payload.qty > 0){\r\n                newList = newList.map(item => {\r\n                    if(item._id === action.payload._id){\r\n                        item.qty = action.payload.qty;\r\n                    }\r\n                    return item;\r\n                });\r\n            }\r\n            else {\r\n                newList = newList.filter(item => item._id !== action.payload._id);\r\n            }\r\n\r\n            return {...state, list: newList};\r\n        case UPDATE_CART:\r\n            return state;  \r\n        case DESTROY_CART:\r\n\t\t\treturn state; \r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\nexport default cartReducer;","import {\r\n    FETCH_USER_SUCCESS\r\n} from '../../constants/ActionTypes';\r\n\r\n\r\nconst userReducer = (state={}, action) => {\r\n\tswitch(action.type){\r\n\t\tcase FETCH_USER_SUCCESS:\r\n\t\t\treturn action.payload;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\nexport default userReducer;","import { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\r\n// REDUCERS\r\nimport productReducer from './reducers/productReducer';\r\nimport filterReducer from './reducers/filterReducer';\r\nimport statusReducer from './reducers/statusReducer';\r\nimport cartReducer from './reducers/cartReducer';\r\nimport userReducer from './reducers/userReducer';\r\n// EPICS\r\n// import productEpic from './epics/productEpic';\r\n// import filterEpic from './epics/filterEpic';\r\n// import clearFilterEpic from './epics/clearFilterEpic';\r\n\r\n\r\nconst reducers = combineReducers({\r\n    product: productReducer, \r\n    status: statusReducer, \r\n    filter: filterReducer,\r\n    cart: cartReducer,\r\n    user: userReducer\r\n});\r\n\r\n\r\n// const epics = combineEpics(productEpic, filterEpic, clearFilterEpic);\r\n// const rootEpic = createEpicMiddleware(epics);\r\n// const store = createStore(reducers, applyMiddleware(rootEpic));\r\nconst store = createStore(reducers);\r\n\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n// APOLLO\r\nimport { ApolloClient } from 'apollo-client';\r\nimport { ApolloProvider } from 'react-apollo';\r\nimport { InMemoryCache, IntrospectionFragmentMatcher } from 'apollo-cache-inmemory';\r\nimport { HttpLink } from 'apollo-link-http';\r\nimport { onError } from 'apollo-link-error';\r\nimport { ApolloLink, split } from 'apollo-link';\r\nimport { createUploadLink } from 'apollo-upload-client';\r\nimport { WebSocketLink } from 'apollo-link-ws';\r\nimport { getMainDefinition } from 'apollo-utilities';\r\nimport introspectionQueryResultData from './fragmentTypes.json';\r\n// FRAGMENT MATCHER\r\nconst fragmentMatcher = new IntrospectionFragmentMatcher({\r\n    introspectionQueryResultData\r\n});\r\n// APOLLO CLIENT\r\n// const GRAPHQL_ENDPOINT = '//localhost:4000/graphql';\r\nconst GRAPHQL_ENDPOINT = 'https://graphql-nodejs-book-api.herokuapp.com/graphql';\r\n\r\n\r\nconst client = new ApolloClient({\r\n    // uri: 'http://localhost:3001/graphql',\r\n    cache: new InMemoryCache({ fragmentMatcher }).restore(),\r\n    link: createUploadLink({ uri: GRAPHQL_ENDPOINT })\r\n});\r\n\r\n\r\nReactDOM.render(\r\n    <ApolloProvider client={client}>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </ApolloProvider>\r\n    , document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}